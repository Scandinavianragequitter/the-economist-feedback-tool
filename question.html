<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audience Insights - Documentation</title>
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-red: #E3120B; 
            --bg-white: #FFFFFF;
            --text-black: #111111;
            --header-bg: #000000;
            --header-text: #FFFFFF;
            --header-height: 8rem;
        }

        /* Prevent the entire page from scrolling */
        html, body {
            height: 100vh;
            overflow: hidden; 
            margin: 0;
            padding: 0;
            background-color: var(--bg-white);
        }

        body {
            font-family: 'Inter', sans-serif;
            color: var(--text-black);
            display: flex;
            flex-direction: column;
        }
        
        #main-header {
            position: fixed;
            top: 0; left: 0; right: 0;
            height: var(--header-height); 
            background-color: var(--header-bg);
            z-index: 100;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 0 2rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 60%;
            border-bottom: 1px solid #333;
        }
        
        .nav-icon-btn {
            background: none; border: none; cursor: pointer; padding: 0;
            display: flex; align-items: center; justify-content: center;
            transition: transform 0.2s;
        }
        .nav-icon-btn:hover { transform: scale(1.1); }

        .icon-svg {
            width: 28px; height: 28px;
            stroke: var(--primary-red);
            stroke-width: 2.5;
            fill: none;
            stroke-linecap: round; stroke-linejoin: round;
        }

        .header-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--header-text);
            letter-spacing: -0.02em;
        }

        .header-stats {
            height: 40%;
            display: flex; align-items: center; justify-content: center;
            gap: 2rem;
            font-size: 0.85rem;
            color: #FFFFFF; /* Reddit, YouTube, etc. titles white */
        }
        .stat-val { color: var(--primary-red); font-weight: 700; margin-left: 0.25rem; }
        
        #content-wrapper {
            margin-top: var(--header-height);
            height: calc(100vh - var(--header-height));
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center; 
            padding: 1rem 2rem; 
            box-sizing: border-box;
        }
        
        .large-text-area {
            width: 100%;
            max-width: 900px;
            max-height: 100%; 
            background-color: transparent; 
            border: none; 
            text-align: justify;
            font-size: 1.05rem;
            line-height: 1.5;
            overflow-y: auto; 
            scrollbar-width: none; 
        }

        .large-text-area::-webkit-scrollbar {
            display: none;
        }
        
        .doc-section {
            border-left: 3px solid var(--primary-red);
            padding-left: 1.5rem;
            margin-bottom: 1.5rem; 
        }
        
        .doc-section h2 {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 0.4rem;
            color: var(--text-black);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .doc-section h2 a {
            color: inherit;
            text-decoration: none;
            transition: color 0.2s;
        }

        .doc-section h2 a:hover {
            color: var(--primary-red);
        }

        .doc-section a {
            color: var(--primary-red);
            text-decoration: underline;
            font-weight: 600;
        }
        
        .header-title a {
            color: var(--header-text);
            text-decoration: none;
            transition: color 0.15s;
        }
        .header-title a:hover {
            color: #e5e5e5; 
        }

        p { margin-bottom: 0.75rem; }
    </style>
</head>
<body>

    <header id="main-header">
        <div class="header-top">
            <a href="question.html" class="nav-icon-btn" title="Documentation">
                <svg class="icon-svg" viewBox="0 0 24 24">
                    <circle cx="12" cy="12" r="10"></circle>
                    <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
                    <line x1="12" y1="17" x2="12.01" y2="17"></line>
                </svg>
            </a>
            
            <div class="header-title">
                <a href="question.html">Audience Feedback</a>
            </div>
            
            <div class="flex items-center" style="gap: 1rem;"> 
                <a href="final_design.html" class="nav-icon-btn" title="Dashboard">
                    <svg class="icon-svg" viewBox="0 0 24 24">
                        <line x1="4" y1="6" x2="20" y2="6"></line>
                        <line x1="4" y1="10" x2="20" y2="10"></line>
                        <line x1="4" y1="14" x2="20" y2="14"></line>
                        <line x1="4" y1="18" x2="20" y2="18"></line>
                    </svg>
                </a>
                <a href="saved_comments.html" class="nav-icon-btn" title="View Saved Comments">
                    <svg class="icon-svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z"></path>
                    </svg>
                </a>
                
                <a href="comment_filter.html" class="nav-icon-btn" title="Search Filter">
                    <svg class="icon-svg" viewBox="0 0 24 24">
                        <circle cx="11" cy="11" r="8"></circle>
                        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                    </svg>
                </a>
            </div>
        </div>
        
        <div class="header-stats">
            <span>Reddit: <span id="count-reddit" class="stat-val">--</span></span>
            <span>YouTube: <span id="count-youtube" class="stat-val">--</span></span>
            <span>App Store: <span id="count-ios" class="stat-val">--</span></span>
            <span>Google Play: <span id="count-gp" class="stat-val">--</span></span>
        </div>
    </header>

    <div id="content-wrapper">
        <div class="large-text-area">
            <div class="doc-section">
                <h2><a href="final_design.html">↗︎ Dashboard Overview</a></h2>
                <p>
                    This dashboard shows last month's feedback on The Economist's offerings retrieved from reader's comments on Reddit, The Economist on Youtube and The Economist App on the iOS App Store and the Google Play Store. <br>AI automatically finds common critique and pain points as expressed in the data and aims to generate actionable insights for teams at The Economist to improve the publication. 
                </p>
            </div>
            <div class="doc-section">
                <h2><a href="comment_filter.html">↗︎ Explorer</a></h2>
                <p>
                    The Explorer uses Semantic Search (Natural Language) for you to find commentary according to custom categories.
                </p>
            </div>
            <div class="doc-section">
                <h2>About the developer</h2>
                <p>
                    This project was developed by Carl Jacob Ziesemer, a second year university student at TU Munich. He is a big admirer of The Economist for its focus on deep dive analyses as well as its efforts to use AI to improve the publication. 
                </p>
                <p> 
                    An avid reader of The Economist, he noticed that many readers express high level thoughts about their UX with The Economist across platforms. The aim of this dashboard is to make these accessible and curated for maximum usefulness.
                </p>
                <p>
                    He'd love to have a discussion with someone at The Economist about this project, to learn more about their exiting work and whether something like this dashboard is already being used internally. Feel free to reach out via LinkedIn: <a href="https://linkedin.com/in/carlziesemer" target="_blank" rel="noopener noreferrer">linkedin.com/in/carlziesemer</a> or email: <a href="mailto:carlziesemer@gmail.com">carlziesemer@gmail.com</a>.
                </p>
            </div>
        </div>
    </div>

    <script>
        const API_BASE_URL = ""; 
        const COUNT_ENDPOINT = API_BASE_URL + "/api/source_counts";
        
        async function loadSourceCounts() {
            try {
                const response = await fetch(COUNT_ENDPOINT);
                if (response.ok) {
                    const counts = await response.json();
                    document.getElementById('count-reddit').textContent = counts['Reddit'] || 0;
                    document.getElementById('count-youtube').textContent = counts['YouTube'] || 0;
                    // Robust mapping for counts
                    document.getElementById('count-ios').textContent = counts['iOS'] || counts['AppStore'] || counts['App Store'] || 0;
                    document.getElementById('count-gp').textContent = counts['GP'] || counts['GooglePlay'] || counts['Google Play'] || 0;
                }
            } catch (e) { 
                console.warn("Error loading source counts:", e);
            }
        }

        document.addEventListener('DOMContentLoaded', loadSourceCounts);
    </script>
</body>
</html>